<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard Admin</title>

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" />

    <!-- CSS -->
    <link rel="stylesheet" href="assets/css/dashboard.css" />
  </head>

  <body>
    <!-- SIDEBAR -->
    <aside class="sidebar" id="sidebar">
      <!-- HEADER LOGO DESA -->
      <div class="sidebar-header">
        <img src="assets/img/logo.png" alt="Logo Desa Pesudukuh" class="logo-desa" />
        <div class="header-text">
          <span class="desa-title">Pemerintah Desa</span>
          <strong class="desa-name">Pesudukuh</strong>
        </div>
      </div>

      <ul class="sidebar-menu">
        <li class="menu-section">MENU UTAMA</li>
        <li>
          <a href="dashboard.html" class="menu-item active">
            <i class="bi bi-speedometer2"></i>
            <span>Dashboard</span>
          </a>
        </li>

        <li class="menu-section">LAYANAN DESA</li>
        <li>
          <a href="pengajuan surat.html" class="menu-item">
            <i class="bi bi-envelope-paper"></i>
            <span>Pengajuan Surat</span>
          </a>
        </li>
        <li>
          <a href="pembuatan surat.html" class="menu-item">
            <i class="bi bi-file-earmark-text"></i>
            <span>Pembuatan Surat</span>
          </a>
        </li>

        <li class="menu-section">INFORMASI PUBLIK</li>

        <li>
          <a href="kabar.html" class="menu-item">
            <i class="bi bi-newspaper"></i>
            <span>Kabar Desa</span>
          </a>
        </li>

        <li class="menu-section">MANAJEMEN</li>
        <li>
          <a href="laporan.html" class="menu-item">
            <i class="bi bi-bar-chart"></i>
            <span>Laporan</span>
          </a>
        </li>
        <li>
          <a href="profil.html" class="menu-item">
            <i class="bi bi-person-circle"></i>
            <span>Profil Akun</span>
          </a>
        </li>
      </ul>

      <!-- LOGOUT BUTTON -->
      <div class="sidebar-logout">
        <a href="index.html" class="logout-btn">
          <i class="bi bi-box-arrow-right"></i>
          <span>Keluar</span>
        </a>
      </div>

      <!-- Toggle Button -->
      <div class="sidebar-toggle" id="sidebarToggle">
        <i class="bi bi-chevron-left"></i>
      </div>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="main">
      <!-- TOP CONTENT -->
      <section class="top-content">
        <div class="welcome">
          <span class="sub">Hi, Admin Desa ðŸ‘‹</span>
          <h1>Selamat Datang</h1>
        </div>

        <div class="profile">
          <!-- Checkbox untuk toggle -->
          <input type="checkbox" id="profile-toggle" hidden />

          <!-- Label ini yang diklik -->
          <label for="profile-toggle" class="profile-button">
            <img src="https://i.pravatar.cc/40" alt="User" />
            <span class="profile-name">Nama </span>
          </label>

          <!-- Dropdown menu -->
          <div class="profile-dropdown">
            <a href="profil.html" class="dropdown-item">Profil Akun</a>
            <a href="login.html" class="dropdown-item">Logout</a>
          </div>
        </div>
      </section>

      <section class="hero-card">
        <div class="hero-text">
          <h2>Dashboard Admin</h2>
          <p>Kelola pengajuan, pembuatan, dan laporan surat menyurat secara online dan terpusat.</p>
          <a href="pembuatan surat.html" class="btn-primary"> Kelola Surat </a>
        </div>
        <div class="hero-image">
          <img src="assets/img/ilustrasi.png" alt="Dashboard" />
        </div>
      </section>

      <!-- CARDS -->
      <div class="cards-row">
        <div class="card summary-card primary">
          <div class="card-info">
            <p class="title">Total Pengajuan</p>
            <h2>6</h2>
            <span class="subtitle">Keseluruhan pengajuan</span>
          </div>
          <i class="bi bi-envelope-fill icon"></i>
        </div>

        <div class="card summary-card warning">
          <div class="card-info">
            <p class="title">Tertunda</p>
            <h2>0</h2>
            <span class="subtitle">Menunggu Verifikasi</span>
          </div>
          <i class="bi bi-clock icon"></i>
          <!-- Icon diganti sesuai status tertunda -->
        </div>

        <div class="card summary-card info">
          <div class="card-info">
            <p class="title">Diproses</p>
            <h2>2</h2>
            <span class="subtitle">Sedang dalam proses</span>
          </div>
          <i class="bi bi-pencil-square icon"></i>
          <!-- Icon diganti sesuai status diproses -->
        </div>

        <div class="card summary-card success">
          <div class="card-info">
            <p class="title">Selesai</p>
            <h2>5</h2>
            <span class="subtitle">Berhasil diselesaikan</span>
          </div>
          <i class="bi bi-check-circle-fill icon"></i>
          <!-- Icon diganti sesuai status selesai -->
        </div>
      </div>

      <div class="chart-row">
        <div class="chart-card pie-area">
          <h3>Pie Chart - Statistik Surat</h3>
          <canvas id="pieChart"></canvas>
        </div>

        <!-- FULL CALENDAR -->
        <div class="calendar-card">
          <div class="calendar-header">
            <button id="prevMonth"><i class="bi bi-chevron-left"></i></button>
            <h3 id="monthYear"></h3>
            <button id="nextMonth"><i class="bi bi-chevron-right"></i></button>
          </div>

          <div class="calendar-weekdays">
            <div>Ming</div>
            <div>Sen</div>
            <div>Sel</div>
            <div>Rab</div>
            <div>Kam</div>
            <div>Jum</div>
            <div>Sab</div>
          </div>

          <div class="calendar-days" id="calendarDays"></div>
        </div>
      </div>

      <div class="dashboard-row">
        <!-- KABAR DESA TERBARU -->
        <div class="info-card">
          <div class="info-header">
            <i class="bi bi-newspaper"></i>
            <h3>Kabar Desa Terbaru</h3>
          </div>

          <div class="info-image">
            <img src="assets/img/perangkatdesa.jpg" alt="Kabar Desa" />
          </div>

          <div class="info-item">
            <div class="info-icon green">
              <i class="bi bi-house-door"></i>
            </div>
            <div class="info-content">
              <h4>TEST</h4>
              <span>01 Oktober 2025</span>
              <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Asperiores facere aut...</p>
            </div>
          </div>

          <div class="info-footer">
            <a href="kabar.html" class="btn-lihat-semua"> Lihat Semua <i class="bi bi-arrow-right"></i> </a>
          </div>
        </div>

        <!-- AKTIVITAS TERBARU -->
        <section class="activity-wrapper">
          <div class="activity-title">
            <i class="bi bi-clock-history"></i>
            <h3>Aktivitas Terbaru</h3>
          </div>

          <div class="activity-row">
            <div class="activity-info">
              <span class="dot pending"></span>
              <span class="name">Nama</span>
            </div>
            <span class="badge pending">Menunggu Verifikasi</span>
          </div>

          <div class="activity-row">
            <div class="activity-info">
              <span class="dot success"></span>
              <span class="name">Nama</span>
            </div>
            <span class="badge success">Selesai</span>
          </div>

          <div class="activity-row">
            <div class="activity-info">
              <span class="dot success"></span>
              <span class="name">Nama</span>
            </div>
            <span class="badge success">Disetujui</span>
          </div>

          <!-- FOOTER BUTTON -->
          <div class="activity-footer">
            <a href="laporan.html" class="btn-lihat-semua"> Lihat Semua <i class="bi bi-arrow-right"></i> </a>
          </div>
        </section>
      </div>
    </main>

    <!-- CALENDAR SCRIPT -->
    <script>
      const monthYear = document.getElementById("monthYear");
      const calendarDays = document.getElementById("calendarDays");
      const prevMonthBtn = document.getElementById("prevMonth");
      const nextMonthBtn = document.getElementById("nextMonth");

      let date = new Date();

      function renderCalendar() {
        const year = date.getFullYear();
        const month = date.getMonth();

        const firstDay = new Date(year, month, 1).getDay();
        const lastDate = new Date(year, month + 1, 0).getDate();
        const prevLastDate = new Date(year, month, 0).getDate();

        const months = ["Januari", "Februari", "Maret", "April", "Mei", "Juni", "Juli", "Agustus", "September", "Oktober", "November", "Desember"];

        monthYear.innerHTML = months[month] + " " + year;
        calendarDays.innerHTML = "";

        for (let i = firstDay; i > 0; i--) {
          calendarDays.innerHTML += `<div class="inactive">${prevLastDate - i + 1}</div>`;
        }

        for (let i = 1; i <= lastDate; i++) {
          let today = new Date();
          let cls = "";

          if (i === today.getDate() && month === today.getMonth() && year === today.getFullYear()) {
            cls = "today";
          }

          calendarDays.innerHTML += `<div class="${cls}">${i}</div>`;
        }

        const nextDays = 42 - (firstDay + lastDate);
        for (let i = 1; i <= nextDays; i++) {
          calendarDays.innerHTML += `<div class="inactive">${i}</div>`;
        }
      }

      prevMonthBtn.addEventListener("click", () => {
        date.setMonth(date.getMonth() - 1);
        renderCalendar();
      });

      nextMonthBtn.addEventListener("click", () => {
        date.setMonth(date.getMonth() + 1);
        renderCalendar();
      });

      renderCalendar();
    </script>

    <!-- SIDEBAR TOGGLE -->
    <script>
      const sidebar = document.getElementById("sidebar");
      const toggleBtn = document.getElementById("sidebarToggle");
      const toggleIcon = toggleBtn.querySelector("i");

      toggleBtn.addEventListener("click", () => {
        sidebar.classList.toggle("collapsed");

        if (sidebar.classList.contains("collapsed")) {
          toggleIcon.classList.remove("bi-chevron-left");
          toggleIcon.classList.add("bi-chevron-right");
        } else {
          toggleIcon.classList.remove("bi-chevron-right");
          toggleIcon.classList.add("bi-chevron-left");
        }
      });
    </script>

    <!-- PIE CHART -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
      new Chart(document.getElementById("pieChart"), {
        type: "pie",
        data: {
          labels: ["Diterima", "Diproses", "Ditolak"],
          datasets: [{ data: [65, 25, 10] }],
        },
      });
    </script>
  </body>
</html>
